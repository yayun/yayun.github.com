---
layout: post
title: "CAP 笔记"
---

### 基本概念

1. Consistency： 每个读请求都可以读到最新的写入的数据或者返回失败
2. Availability: 每一个请求都能保证收到一个正常的（无报错）的响应，但是不能保证包含最新的写入。
3. Partition tolerance: 由于网络问题，节点之间可能无法通信或者通信延迟，那么有些节点的数据有可能丢失或者延迟。但是系统仍然能正常运作。

CAP 指当发生 P 的时候，C 和 A 之间我们只能选择一个。可能有人会疑问，为什么 P 一定不能保证呢？因为如果构建一个分布式系统，多个数据副本在多个节点上，多个节点相互通信，没有 100% 可靠的网络，这样就永远不可能保证 P。

所以我们只有在 P 发生的时候，选择 C 还是 A：

1. 不能和主节点通信，我们可以不处理请求，这样降低了可用性（A）但是能保证一致性（C）。
2. 继续处理请求，保证了可用性（A），但是不能保证一致性（C）。





### 参考
1. [https://en.wikipedia.org/wiki/CAP_theorem](https://en.wikipedia.org/wiki/CAP_theorem)
